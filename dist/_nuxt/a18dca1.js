(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{196:function(t,e,n){"use strict";n(17)},197:function(t,e,n){"use strict";n.r(e);var r={name:"bubble"},o=n(26),component=Object(o.a)(r,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"bubble"},[e("div",{staticClass:"point"})])}],!1,null,null,null);e.default=component.exports},199:function(t,e,n){"use strict";n.r(e);var r={name:"response",props:{response:{type:Response}}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("caption",[t._v("Response")]),t._v(" "),t._m(0),t._v(" "),n("tr",[n("td",[t._v(t._s(t.response.status))]),t._v(" "),n("td",[t._v(t._s(t.response.statusText))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("status")]),this._v(" "),e("th",[this._v("statusText")])])}],!1,null,null,null);e.default=component.exports},200:function(t,e,n){"use strict";n.r(e);var r={name:"min-max",components:{Bubble:n(197).default}},o=n(26),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[this._v("Diameter")]),this._v(" "),e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("bubble",{attrs:{d:0}}),this._v(" "),e("span",{staticStyle:{"margin-left":"16px"}},[this._v("Min km")])],1),this._v(" "),e("div",{staticStyle:{display:"flex","align-items":"center","margin-left":"110px"}},[e("bubble",{style:{position:"relative",transform:"none"},attrs:{d:1}}),this._v(" "),e("span",{staticStyle:{transform:"translateX(calc(16px - (100px/2)))"}},[this._v("Max km")])],1)])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Bubble:n(197).default})},201:function(t,e,n){"use strict";n.r(e);n(33),n(17),n(50),n(51),n(198);var r=n(203),o=n(197),l=(n(196),n(1)),d=(l.a.filter("scale"),l.a.filter("min"),l.a.filter("max"),{name:"scatter-plot",components:{Asteroid:r.default,Bubble:o.default},computed:{url:function(){var t=new URL(location);return t.pathname="neo/rest/v1/feed",t},length:function(){return this.items.length}},data:function(){return{body:{},loading:!1,error:!1,rows:[]}},props:{date:{type:String,required:!0},items:{type:Array,required:!0,default:function(){return[]}},response:{type:Object,required:!0,default:function(){return{}}},error:{type:String}}}),c=n(26),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scatter-plot"},[t.errored?n("section",{staticClass:"errored"},[n("p",[t._v(t._s(t.error))])]):t.loading?n("div",{staticClass:"loading",staticStyle:{position:"absolute",width:"100%",height:"100%"}}):n("section",{staticClass:"container"},[t._l(t.items,(function(t,i){return n("asteroid",{key:i,staticStyle:{position:"absolute"},attrs:{data:Object.assign({},t),x:t.x,y:t.y,d:t.d}})})),t._v(" "),n("span",{staticClass:"max",attrs:{coordinate:"x"}},[t._v(t._s(t.maxX))]),t._v(" "),n("span",{staticClass:"min",attrs:{coordinate:"x"}},[t._v(t._s(t.minX))]),t._v(" "),n("span",{staticClass:"max",attrs:{coordinate:"y"}},[t._v(t._s(t.maxY))]),t._v(" "),n("span",{staticClass:"min",attrs:{coordinate:"y"}},[t._v(t._s(t.minY))])],2)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Asteroid:n(203).default})},202:function(t,e,n){"use strict";n.r(e);var r={name:"asteroids",components:{Rhombus:n(205).default},props:{asteroids:{type:Array,default:function(){return new Array}}}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.asteroids,(function(e,i){return n("div",{key:i,staticStyle:{display:"flex","align-items":"center",margin:"32px 0px"}},[n("rhombus",{attrs:{value:e.scale}}),t._v(" "),n("table",[n("tbody",[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("td",[t._v(t._s(e.name))])]),t._v(" "),n("tr",[n("th",[t._v("Diameter")]),t._v(" "),n("td",[t._v(t._s(e.estimated_diameter.kilometers.estimated_diameter_max))])]),t._v(" "),n("tr",[n("th",[t._v("Magnitude")]),t._v(" "),n("td",[t._v(t._s(e.absolute_magnitude_h))])])])])],1)})),0)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Rhombus:n(205).default})},203:function(t,e,n){"use strict";n.r(e);var r=n(197),o=n(206),l=(n(196),{name:"asteroid",components:{Bubble:r.default,Tooltip:o.default},data:function(){return{show:!1,data:{}}},props:{id:{type:String,required:!0}}}),d=n(26),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"asteroid",attrs:{tabindex:"0"},on:{focus:function(e){t.show=!0},blur:function(e){t.show=!1}}},[n("bubble",{attrs:{x:t.x,y:t.y,d:t.d}}),t._v(" "),n("tooltip",{attrs:{show:t.show,data:t.data}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Bubble:n(197).default,Tooltip:n(206).default})},204:function(t,e,n){"use strict";n.r(e);n(17),n(50),n(51),n(198);var r={name:"date-button",props:{date:{type:Date}},computed:{url:function(){return new URL(window.location)},checked:function(){return new URL(location).searchParams.get("date")==this.date}},methods:{onclick:function(){var t=new URL(location);t.searchParams.set("date",date),history.pushState({date:date},"",t)}}},o=n(26),component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("button",{attrs:{"data-date":this.date},on:{click:this.onclick}},[this._v(this._s(new Intl.DateTimeFormat("default",{weekday:"long"}).format(this.date)))])}),[],!1,null,null,null);e.default=component.exports},205:function(t,e,n){"use strict";n.r(e);n(151);var r={name:"rhombus",props:{value:{type:Number,default:function(){return new Number}}},computed:{boxShadow:function(){return"0 0 ".concat(16*(1-this.value),"px white")},dimension:function(){var t=Math.sqrt(Math.pow(80,2)/2);return{outer:"80px",inner:t+"px",innerScaled:this.value*t+"px"}}}},o=n(26),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","flex-shrink":"0"},style:{width:this.dimension.outer,height:this.dimension.outer}},[e("div",{staticStyle:{border:"1px solid white",display:"flex","justify-content":"center","align-items":"center",transform:"rotate(-45deg)","box-sizing":"border-box","flex-shrink":"0"},style:{width:this.dimension.inner,height:this.dimension.inner,boxShadow:this.boxShadow}},[e("div",{staticStyle:{width:"0px",height:"0px","background-color":"white",display:"flex","justify-content":"center","align-items":"center"},style:{width:this.dimension.innerScaled,height:this.dimension.innerScaled}},[e("div",{staticStyle:{width:"4px",height:"4px","background-color":"black",margin:"auto",position:"absolute"}})])])])}),[],!1,null,null,null);e.default=component.exports},206:function(t,e,n){"use strict";n.r(e);n(17),n(50),n(51),n(198);var r={name:"tooltip",props:["show","data"],methods:{get:function(){var t=this;this.loading=!0,this.error=!1,fetch(this.url).then((function(e){return t.response=e,e.json()})).then((function(data){console.dir(data),t.data=data})).catch((function(e){console.dir(e),t.errored=!0,t.error=e})).finally((function(){return t.loading=!1}))}},computed:{url:function(){var t=new URL(location);return t.pathname="neo/rest/v1/neo/".concat(this.id),t}}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide-fade"}},[t.show?n("div",{staticClass:"tooltip"},[n("response",{attrs:{response:t.response}}),t._v(" "),n("table",[n("tbody",[n("tr",[n("td",[t._v("Name")]),t._v(" "),n("td",[t._v(t._s(t.data.name))])]),t._v(" "),n("tr",[n("td",[t._v("Diameter")]),t._v(" "),n("td",[t._v(t._s(t.data.diameter)+" km")])]),t._v(" "),n("tr",[n("td",[t._v("Magnitude")]),t._v(" "),n("td",[t._v(t._s(t.data.magnitude)+" h")])]),t._v(" "),n("tr",[n("td",[t._v("Distance")]),t._v(" "),n("td",[t._v(t._s(t.data.distance)+" au")])]),t._v(" "),n("tr",[n("td",[t._v("Velocity")]),t._v(" "),n("td",[t._v(t._s(t.data.velocity_kilometers_per_hour)+" km/h")])])])])],1):t._e()])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Response:n(199).default})},207:function(t,e,n){"use strict";var r=n(2),o=n(208),l=n(18),d=n(12),c=n(36),_=n(104);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=l(this),n=d(e.length),r=_(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:c(t)),r}})},208:function(t,e,n){"use strict";var r=n(53),o=n(12),l=n(52),d=function(t,e,source,n,c,_,f,h){for(var element,v=c,m=0,y=!!f&&l(f,h,3);m<n;){if(m in source){if(element=y?y(source[m],m,e):source[m],_>0&&r(element))v=d(t,e,element,o(element.length),v,_-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[v]=element}v++}m++}return v};t.exports=d},209:function(t,e,n){n(106)("flat")},210:function(t,e,n){var r=n(2),o=n(211).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},211:function(t,e,n){var r=n(8),o=n(54),l=n(15),d=n(75).f,c=function(t){return function(e){for(var n,c=l(e),_=o(c),f=_.length,i=0,h=[];f>i;)n=_[i++],r&&!d.call(c,n)||h.push(t?[n,c[n]]:c[n]);return h}};t.exports={entries:c(!0),values:c(!1)}},212:function(t,e,n){"use strict";n.r(e);n(32);var r=n(200),o=n(201),l={components:{MinMax:r.default,ScatterPlot:o.default},name:"asteroids-of-the-day",computed:{minD:function(){return console.log(this.asteroids),Math.min(this.asteroids.map((function(t){return t.diameter})))},maxD:function(){return console.log(this.asteroids),Math.max(this.asteroids.map((function(t){return t.diameter})))}},props:{date:{type:Date,required:!0},asteroids:{type:Array,default:function(){return new Array}},onchangedate:{type:Function},loading:{type:Boolean},errored:{type:Boolean},error:{type:Boolean}}},d=n(26),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{display:"flex","flex-direction":"column","flex-grow":"1"}},[n("h2",[t._v("Asteroids of the day")]),t._v(" "),n("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[n("selector",{attrs:{date:t.date,onchangedate:t.onchangedate,selected_index:t._f("lun_dom_day")(t.date)}}),t._v(" "),n("min-max")],1),t._v(" "),n("scatter-plot",{attrs:{date:t.date,asteroids:t.asteroids,loading:t.loading,errored:t.errored,error:t.error}}),t._v(" "),t._m(0)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("tbody",[n("tr",[n("td",[t._v("⬆")]),t._v(" "),n("td",[t._v("Distance")]),t._v(" "),n("td",[t._v("(au)")])]),t._v(" "),n("tr",[n("td",[t._v("➡")]),t._v(" "),n("td",[t._v("Velocity")]),t._v(" "),n("td",[t._v("(km/s)")])])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Selector:n(215).default,MinMax:n(200).default,ScatterPlot:n(201).default})},213:function(t,e,n){"use strict";n.r(e);n(17),n(35),n(196);var r={name:"apod",data:function(){return{url:"/api/planetary/apod",date:new Date,response:{},loading:!1,error:!1}},mounted:function(){this.fetch()},methods:{fetch:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;this.loading=!0,this.errored=!1,fetch("https://api.nasa.gov/planetary/apod?api_key=".concat(api_key.value)).then((function(e){return t.response=e,e.json()})).then((function(data){Object.assign(t,data),t.loading=!1})).catch((function(e){t.errored=!0,t.error=e}))}))}},o=n(26),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("h2",[t._v("Astronomy Picture of the Day")]),t._v(" "),n("response",{attrs:{response:t.response}}),t._v(" "),t.errored?n("div",{staticClass:"errored"},[t._v(t._s(t.error))]):n("div",[t.loading?n("div",{staticClass:"loading"}):n("div",[n("p",[t._v(t._s(t.date))]),t._v(" "),n("picture",[n("source",{attrs:{media:"(min-width:1680px)",srcset:t.hdurl}}),t._v(" "),n("source",{attrs:{media:"(min-width:465px)",srcset:t.url}}),t._v(" "),n("img",{attrs:{loading:"lazy",src:t.url,alt:t.title,title:t.title}}),t._v(" "),n("figcaption",[t._v(t._s(t.explanation))])])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Response:n(199).default})},214:function(t,e,n){"use strict";n.r(e);n(33),n(207),n(32),n(56),n(209),n(17),n(210),n(50),n(51),n(198);var r=n(1),o=(n(196),{name:"brightest",components:{Asteroids:n(202).default},data:function(){return{data:new Array,items:new Array,loading:new Boolean,errored:new Boolean}},methods:{get:function(){var t=this,e=r.a.filter("formatted"),n=e(this.start),o=e(this.end),l=e(this.date),d=new URL("https://api.nasa.gov");console.log(l,n,o),d.pathname="neo/rest/v1/feed",d.searchParams.set("start_date",l),d.searchParams.set("end_date",l),d.searchParams.set("api_key",api_key.value),this.loading=!0,this.errored=!1,fetch(d).then((function(e){t.response=e,t.loading=!1,200==e.status&&e.json().then((function(data){t.items=Object.values(data.near_earth_objects).flat(1).sort((function(a,b){return a.absolute_magnitude_h-b.absolute_magnitude_h})).slice(0,5).reverse().map((function(t,i,a){var e=a.map((function(t){return t.absolute_magnitude_h})),n=r.a.filter("scale"),o=r.a.filter("min"),l=r.a.filter("max");return t.scale=n(t.absolute_magnitude_h,o(e),l(e)),t}))}))})).catch((function(e){console.error(e),t.errored=!0,t.error=e})).finally((function(){return t.loading=!1}))}},mounted:function(){this.get()}}),l=n(26),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",[n("h2",[t._v("Brightest of the week")]),t._v(" "),t._m(0),t._v(" "),n("p",[t._v(t._s(t.start_date))]),t._v(" "),n("p",[t._v(t._s(t.end_date))]),t._v(" "),n("p",[t._v(t._s(t.items.length))]),t._v(" "),n("response",{attrs:{response:t.response}}),t._v(" "),t._m(1),t._v(" "),t.errored?n("section",{staticClass:"errored"},[n("p",[t._v(t._s(t.error))])]):n("section",[t.loading?n("div",{staticClass:"loading"}):n("asteroids",{attrs:{asteroids:t.items}})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",[this._v("Magnitude "),e("span",[this._v("(h)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("tbody",[n("tr",[n("td",[n("div",{staticClass:"rombo-1"})]),t._v(" "),n("td",[t._v("Filled area")]),t._v(" "),n("td",[t._v("magnitude")])]),t._v(" "),n("tr",[n("td",[n("div",{staticClass:"rombo-2"})]),t._v(" "),n("td",[t._v("Empty area")]),t._v(" "),n("td",[t._v("brightness")])])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Response:n(199).default,Asteroids:n(202).default})},215:function(t,e,n){"use strict";n.r(e);var r={name:"selector",components:{DateButton:n(204).default},props:["date","start_date","end_date","api_key"],computed:{datetimes:function(){for(var t=new Array,e=new Date(this.datetime),n=e.getDay(),r=e.getDate(),i=0;i<7;i++){var o=new Date,l=r+(i-n);o.setDate(l),t.push(o)}return t}}},o=n(26),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"selector"},this._l(this.datetimes,(function(t,i){return e("date-button",{key:"radio-"+i,attrs:{id:"radio-"+i,datetime:t}})})),1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{DateButton:n(204).default})},220:function(t){t.exports=JSON.parse('{"a":"0.0.6"}')},221:function(t,e,n){"use strict";n.r(e);n(33),n(32),n(38),n(17),n(50),n(51),n(198);var r=n(70),o=n(1),l=(n(144),n(220)),d=Object(r.a)({name:"app",watch:{date:function(){this.get_asteroids_of_the_day()}},methods:{get_asteroids_of_the_day:function(){var t=this,e=o.a.filter("formatted")(this.date),n=new URL("https://api.nasa.gov");n.pathname="neo/rest/v1/feed",n.searchParams.set("start_date",e),n.searchParams.set("end_date",e),n.searchParams.set("api_key",api_key.value),this.loading=!0,this.errored=!1,fetch(n).then((function(e){return t.response=e,e.json()})).then((function(data){t.asteroids_of_the_day=data.near_earth_objects[e].map((function(t){return{id:t.id,name:t.name,diameter:t.estimated_diameter.kilometers.estimated_diameter_max,magnitude:t.absolute_magnitude_h,velocity_kilometers_per_hour:t.close_approach_data[0].relative_velocity.kilometers_per_hour,velocity_kilometers_per_second:t.close_approach_data[0].relative_velocity.kilometers_per_second,distance:t.close_approach_data[0].miss_distance.astronomical}}))})).catch((function(e){console.log(e),t.errored=!0,t.error=e})).finally((function(){return t.loading=!1}))},onchangedate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;this.date=t}},data:function(){return{date:new Date,asteroids_of_the_day:new Array,loading:!0,errored:!1}},mounted:function(){this.get_asteroids_of_the_day()},props:{start_date:{type:Date,default:function(){var t=new Date;return t.setDate(t.getDate()-t.getDay()+1),t}},end_date:{type:Date,default:function(){var t=new Date,e=t.getDay()?t.getDay()-1:6;return t.setDate(t.getDate()+(6-e)),t}}},computed:{version:function(){return l.a}}},"props",["date","start_date","end_date","api_key"]),c=n(26),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("body",{staticClass:"app",attrs:{id:"app"}},[n("h1",[t._v("Asteroids")]),t._v(" "),n("button",{attrs:{onclick:"history.back()"}},[t._v("back")]),t._v(" "),n("button",{attrs:{onclick:"history.forward()"}},[t._v("forward")]),t._v(" "),n("form",[n("label",{attrs:{for:"api_key"}},[t._v("api_key")]),t._v(" "),n("input",{attrs:{type:"text",id:"api_key",name:"api_key",required:""},domProps:{value:this.$route.query.api_key}}),t._v(" "),n("label",{attrs:{for:"start_date"}},[t._v("start_date")]),t._v(" "),n("input",{attrs:{type:"date",name:"start_date"},domProps:{value:this.$route.query.start_date}}),t._v(" "),n("label",{attrs:{for:"end_date"}},[t._v("end_date")]),t._v(" "),n("input",{attrs:{type:"date",name:"end_date"},domProps:{value:this.$route.query.end_date}}),t._v(" "),n("input",{attrs:{type:"submit",value:"Send Request"}})]),t._v(" "),n("main",[n("response",{attrs:{response:t.response}}),t._v(" "),n("asteroids-of-the-day",{attrs:{date:t.date,start_date:t.start_date,end_date:t.end_date,asteroids:t.asteroids_of_the_day,onchangedate:t.onchangedate,loading:t.loading,errored:t.errored,error:t.error}}),t._v(" "),n("aside",[n("brightest",{attrs:{start_date:t.start_date,end_date:t.end_date}}),t._v(" "),n("apod")],1)],1),t._v(" "),n("footer",[n("table",[n("tbody",[t._m(0),t._v(" "),n("tr",[n("td",[t._v("Version")]),t._v(" "),n("td",[t._v(t._s(t.version))])]),t._v(" "),t._m(1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[this._v("GitHub")]),this._v(" "),e("td",[e("a",{attrs:{href:"https://github.com/mattiapontonio/asteroids"}},[this._v("https://github.com/mattiapontonio/asteroids")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("div",[this._v("Icons made by "),e("a",{attrs:{href:"https://www.flaticon.com/authors/good-ware",title:"Good Ware"}},[this._v("Good Ware")]),this._v(" from "),e("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[this._v("www.flaticon.com")])])])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Response:n(199).default,AsteroidsOfTheDay:n(212).default,Brightest:n(214).default,Apod:n(213).default})},225:function(t,e,n){"use strict";n.r(e);n(34);var r=n(6),o={asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=n.date,o=n.start_date,l=n.end_date,d=n.api_key,e.abrupt("return",{date:r,start_date:o,end_date:l,api_key:d});case 2:case"end":return e.stop()}}),e)})))()}},l=n(26),component=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("app",{attrs:{date:this.date,start_date:this.start_date,end_date:this.end_date,api_key:this.api_key}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{App:n(221).default})}}]);
<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<style>
    :root {
  --main-color: green;
}
body {
    background: rgb(2,0,36);
background: linear-gradient(90deg, rgba(2,0,36,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%);
color:white;
}
input + label {
    border: 1px solid white;
    background-color: transparent;
}
input:checked + label {
    border: 1px solid green;
    background-color: green;
}
h2 {
    text-decoration: underline;
}
</style>
</head>
<body>
<div id="app" style="display:flex; width: 100%;">
    <div style="
    display: flex;
    flex-direction: column;
    height: 100%;
">
        <h2>Asteroids of the day</h2>
        <div style="display: flex">
        <div>
            <p>Select one day to update the chart:</p>
            <day-selector></day-selector>
        </div>
        <div>
            <h3>Diameter</h3>
            <div style="display: flex; align-items: center;">
                <div style="display: flex;align-items: center;">
                        <div style="display: flex;align-items: center;">
                                <div style="
                                    border:1px solid rgb(63, 119, 63); 
                                    width:100px; 
                                    height:100px;
                                    box-sizing: border-box;
                                    border-radius: 50%;
                                    display: flex;
                                    align-content: center;
                                    align-items: center;
                                    justify-content: center;
                                ">
                                    <div style="
                                        width:10px; 
                                        height:10px;
                                        background: green;
                                    border-radius: 50%;
                                        "></div>
                                </div>
                            <span>Min km</span>
                        </div>
                <div style="display: flex;align-items: center;">
                        <div style="
                            border:1px solid rgb(63, 119, 63); 
                            width:100px; 
                            height:100px;
                            box-sizing: border-box;
                            border-radius: 50%;
                            display: flex;
                            align-content: center;
                            align-items: center;
                            justify-content: center;
                        ">
                            <div style="
                                width:10px; 
                                height:10px;
                                background: green;
                            border-radius: 50%;
                                "></div>
                        </div>
                    <span>Max km</span>
                </div>
                </div>
            </div>
        </div>
    </div>
        <asteroids-of-the-day></asteroids-of-the-day>
        <div>
            <div>
                <span style="
                width: 25px;
                display: inline-block;
                margin-right: 10px;
                ">⬆</span>
                <span style="
                text-transform: uppercase;
                font-weight: bold;
                margin-right: 10px;
                ">Distance</span>
                <span>(au)</span>
            </div>
            <div style="border-top: 1px solid gray;">
                    <span style="
                    width: 25px;
                    display: inline-block;
                    margin-right: 10px;
                    ">➡</span>
                    <span style="
                    text-transform: uppercase;
                    font-weight: bold;
                    margin-right: 10px;
                    ">Velocity</span>
                    <span>(km/s)</span></div>
        </div>
    </div>
    <div>
        <h2>Brightest of the week</h2>
        <h3>Magnitude <span>(h)</span></h3>
        <div>
            <div style="display: flex; color: white">
                <div style="
                    width: 10px;
                    height:10px; 
                    box-sizing: border-box;
                    transform:rotate(45deg); 
                    background-color: transparent;
                    border: 1px solid white;
                "></div>
                <div>Filled area: magnitude</div>
            </div>
            <div style="display: flex; color: white">
                <div style="
                    width: 10px;
                    height:10px; 
                    box-sizing: border-box;
                    transform:rotate(45deg); 
                    background-color: white;
                    border: 1px solid white;
                "></div>
                <div>Empty area: brightness</div>
            </div>
        </div>
        <brightest-of-the-week-asteroids></brightest-of-the-week-asteroids>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    Vue.component('day-selector', {
  data: function () {
    return {
      count: 0,
      selctedIndex: 0,
      day: undefined,
      days: [
          'mon',
          'tue',
          'wed',
          'thur',
          'fri',
          'sat',
          'sun'
      ]
    }
  },
  template: `
    <form style="display:flex;">
        <div v-for="(val, name, i) in days">
            <input 
                type="radio" 
                :id="val"
                v-on:click="count++"
                v-model="day"
                name="day"
                style="
                    border:1px solid green; 
                    background:transparent;
                    visibility:hidden;
                "
                v-bind:style="{color: selctedIndex == i ? 'green' : 'transparent' }"
            />
            <label 
                :for="val"
                style="
                    width: 32px;
                    height: 32px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    line-height: 1;
                    vertical-align: middle;
                    margin-right:8px;
                "
            >{{val}}</label>
        </div>
    </form>`
});
Vue.component('brightest-of-the-week-asteroids', {
  data: function () {
    return {
        object: [
          {},
          {},
          {},
          {},
          {},
      ]
    }
  },
  template: `
    <div>
        <div 
            v-for="(val, name, index) in object"
            style="
                display: flex;
                align-items:center;
                padding: 32px;
            ">
                <div style="
                    width: 64px;
                    height:64px;
                    border:1px solid white;
                    display:flex;
                    justify-content:center;
                    align-items:center;
                    transform: rotate(-45deg);
                    box-sizing: border-box;
                ">
                    <div style="
                        width:32px;
                        height:32px;
                        background-color: white;
                        display:flex;
                        justify-content:center;
                        align-items:center;
                    ">
                            <div style="width:5px;height:5px; background-color: black;"></div>
                    </div>
                </div>
                <div style="margin-left: 50px;">
                    <div>Name: Name</div>
                    <div>Diameter: NN</div>
                    <div>Magnitude: NN</div>
                </div>
            </div>
        </div>
    `,
});
Vue.component('asteroids-of-the-day', {
data () {
    return {
      info: null
    }
  },
  template: `
    <div style="
        position: relative;
        min-height: 400px;
    ">
        <asteroid 
            v-for="(val, name, index) in info"
            :id="val.id"
            :asteroid-id="val.id"
        >
        </asteroid>
    </div>
    `,
    mounted () {
        axios
        .get('https://api.nasa.gov/neo/rest/v1/feed?start_date=2015-09-07&end_date=2015-09-08&api_key=Qum6yuCBnZO67fvlDRveXm4gdkqZsv3OnBbcqWzv')
        .then(response => {
            this.info = response.data.near_earth_objects["2015-09-07"];
            console.log(response.data);
        });
    }
});  
Vue.component('asteroid', {
  props: ['asteroidId'],
  data () {
    return {
      name: null,
      diameter: null,
      magnitude: null,
      velocity: null
    }
  },
  template: `
  <div 
                style="
                    position: absolute; 
                    left: 10%; top: 30%;"
            >
                <div style="
                    border:1px solid rgb(63, 119, 63); 
                    width:100px; 
                    height:100px;
                    box-sizing: border-box;
                    border-radius: 50%;
                    display: flex;
                    align-content: center;
                    align-items: center;
                    justify-content: center;
                    transform: translate(-50%, -50%);
                    position: absolute;
                ">
                    <div style="
                        width:10px; 
                        height:10px;
                        background: green;
                    border-radius: 50%;
                        "></div>
                </div>
                <div style="
                border: 1px solid white;
                padding:1em;
                color: white;
                background-color: rgba(0, 0, 0, 0.5);
                ">
                        <div>Name: {{ name }}</div>
                        <div>Diameter: {{ diameter }} km</div>
                        <div>Magnitude: {{ magnitude }} h</div>
                        <div>Distance: XXX au</div>
                        <div>Velocity: {{ velocity }} km/h</div>
                </div>
            </div>
    `,
    mounted () {
        axios
        .get(`https://api.nasa.gov/neo/rest/v1/neo/${this.asteroidId}?api_key=Qum6yuCBnZO67fvlDRveXm4gdkqZsv3OnBbcqWzv`)
        .then(response => {
            this.name = response.data.name;
            this.diameter = response.data.estimated_diameter.kilometers.estimated_diameter_max;
            this.magnitude = response.data.absolute_magnitude_h;
            this.velocity = response.data.close_approach_data.find(e=>e.close_approach_date=='2015-09-07').relative_velocity.kilometers_per_hour;
            console.log(response.data);
        });
    }
});  
var app = new Vue({
  el: '#app',
  data: {
    message: 'Hello Vue!'
  }
});
</script>
</body>
</html>